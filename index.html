<!DOCTYPE html>
<html lang="en">

<head>
    <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script>
        (function(w, d, s, g, js, fjs) {
            g = w.gapi || (w.gapi = {});
            g.analytics = {
                q: [],
                ready: function(cb) {
                    this.q.push(cb)
                }
            };
            js = d.createElement(s);
            fjs = d.getElementsByTagName(s)[0];
            js.src = 'https://apis.google.com/js/platform.js';
            fjs.parentNode.insertBefore(js, fjs);
            js.onload = function() {
                g.load('analytics')
            };
        }(window, document, 'script'));
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="view-selector2.js"></script>
    <script type="text/javascript">
        $(function() {
            gapi.analytics.ready(function() {
                gapi.analytics.auth.authorize({
                    container: 'embed-api-auth-container',
                    clientid: '708383383102-4h03gssp03i8ceonmqm14a44eugq9dh5.apps.googleusercontent.com'
                });

                gapi.analytics.auth.on('signIn', function() {
                    console.log("signed In");
                });

                gapi.analytics.auth.on('needsAuthorization', function() {
                    console.log('needs authorization');
                })

                gapi.analytics.auth.on('error', function(error) {
                    console.log(error);
                });

                var vieweSelector = gapi.analytics.ext.ViewSelector2({
                    container: 'view-selector-container',
                });
                console.log(vieweSelector);
            });
        })
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Google Analytics Playground</title>
</head>

<body>
    <div id="embed-api-auth-container" style="display:none;"></div>
    <div id="view-selector-container"></div>
</body>

</html>